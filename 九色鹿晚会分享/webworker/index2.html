<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--type="app/worker"-->
<script id="worker">
  addEventListener('message', function (e) {
    postMessage('worker发送消息给父亲22222222222222');
  }, false);
</script>
<script>

  //读取script标签内容
  var blob = new Blob([document.querySelector('#worker').textContent]);
  var url = window.URL.createObjectURL(blob);
  var worker = new Worker(url);

  //创建函数方式
  /*function createWorker(f) {
    var blob = new Blob(['(' + f.toString() +')()']);
    var url = window.URL.createObjectURL(blob);
    var worker = new Worker(url);
    return worker;
  }
  let worker = createWorker(function(){
    addEventListener('message', function (e) {
      postMessage('worker发送消息给父亲2222222222222');
    }, false);
  })*/



  worker.postMessage('init')
  worker.onmessage = function (e) {
    console.log(e.data);
  };
</script>
</body>
</html>