(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["worksManage"],{"0590":function(t,e,a){"use strict";var o=a("3610"),i=a.n(o);i.a},3610:function(t,e,a){},4183:function(t,e,a){t.exports=a.p+"static/img/empty-img.f9c4384a.png"},"86e5":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main-center"},[o("div",{staticClass:"book-box"},[o("div",{staticClass:"status-box",staticStyle:{padding:"0"}},[o("div",{staticClass:"add-btn",on:{click:t.doRightNow}},[t._v("立即创作")]),o("div",{staticClass:"status-item"},[o("ul",{staticClass:"status-list-2"},t._l(t.subjectList,function(e,a){return o("li",{class:{cur:e.type===t.code_task_type},on:{click:function(a){return t.changeType(e)}}},[o("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(e.name))])])}),0)])]),t.worksList.length?o("ul",{staticClass:"book-list"},t._l(t.worksList,function(e,a){return o("li",{staticClass:"common-bor",on:{click:function(a){return t.clickItem(e)}}},[o("div",{staticClass:"img-box"},[o("img",{attrs:{src:e.media_info.thumbnail_url,alt:""}})]),o("div",{staticClass:"tit",attrs:{title:e.name}},[t._v(t._s(e.name))]),o("div",{staticClass:"list-bottom"},[o("div",{staticClass:"date"},[t._v(t._s(e.create_date))]),o("div",{staticClass:"delete",attrs:{title:"刪除作品"},on:{click:function(a){return t.deleteItem(a,e)}}})])])}),0):t._e(),t.worksList.length?o("div",{staticClass:"flex-box-center"},[o("el-pagination",{attrs:{background:"","page-size":t.page_size,"current-page":t.page_num,layout:"prev, pager, next",total:t.total},on:{"current-change":t.getCodeFreeCreationList,"update:pageSize":function(e){t.page_size=e},"update:page-size":function(e){t.page_size=e},"update:currentPage":function(e){t.page_num=e},"update:current-page":function(e){t.page_num=e}}})],1):t._e(),t.worksList.length?t._e():o("div",{staticClass:"has-not-child-box"},[o("img",{attrs:{src:a("4183"),alt:""}}),o("p",{staticClass:"login-tit"},[t._v("暂无作品～")]),o("div",{staticClass:"btn btn-yellow",on:{click:t.doRightNow}},[t._v("立即创作")])])])])},i=[],s=(a("7f7f"),a("cebc")),n=a("2f62"),c={data:function(){return{subjectList:[{name:"全部",type:""},{name:"Scratch",type:"1"},{name:"Python",type:"2"},{name:"PyGame",type:"3"},{name:"C++",type:"4"}],code_task_type:"",page_num:1,page_size:6,total:0,submitAble:!1,worksList:[],pythonCodeWebPath:"",scratchCodeWebPath:"",pyGameCodeWebPath:"",cPlusCodeWebPath:"",webPathMapper:{1:"scratchCodeWebPath",2:"pythonCodeWebPath",3:"pyGameCodeWebPath",4:"cPlusCodeWebPath"}}},methods:Object(s["a"])({},Object(n["b"])("trainingCamp",["getCodeFreeCreationListActions","getCodeFreeCreationGoToUrlActions","deleteCodeFreeCreationActions"]),{getCodeFreeCreationGoToUrl:function(){var t=this;this.getCodeFreeCreationGoToUrlActions().then(function(e){var a=e.error_code,o=e.data,i=o.scratchCodeWebPath,s=o.pythonCodeWebPath,n=o.cPlusCodeWebPath;a||(t.scratchCodeWebPath=i,t.pythonCodeWebPath=s,t.pyGameCodeWebPath=s,t.cPlusCodeWebPath=n)})},getCodeFreeCreationList:function(){var t=this,e={code_task_type:this.code_task_type,page_num:this.page_num,page_size:this.page_size};this.getCodeFreeCreationListActions(e).then(function(e){var a=e.error_code,o=e.data,i=o.rows,s=o.total;a||(t.total=s,t.worksList=i)})},changeType:function(t){this.code_task_type!==t.type&&(this.page_num=1,this.code_task_type=t.type,this.getCodeFreeCreationList())},doRightNow:function(){if(""===this.code_task_type)this.goView("trainingCamp");else{var t=this.$store.getters["account/info"],e=this[this.webPathMapper[this.code_task_type]];if(e){var a="".concat(e,"/?token=").concat(t.token,"&scene=startCode&editorMode=addPractice&userId=").concat(this.$store.state.account.info.user_id);3==this.code_task_type&&(a+="&pygame=true");var o=JSON.stringify(this.$route.query);this.goView("bianchengTest",{webUrl:a,formRouterName:"worksManage",formRouterQuery:o})}}},clickItem:function(t){var e=this.$store.getters["account/info"],a=this[this.webPathMapper[t.code_task_type]];if(a){var o=t.media_info.media_url,i="".concat(a,"/?token=").concat(e.token,"&codeUrl=").concat(o,"&tmplUrl=").concat(o,"&practiceId=").concat(t.id,"&practiceName=").concat(t.name,"&scene=startCode&editorMode=editPractice&userId=").concat(this.$store.state.account.info.user_id);3==t.code_task_type&&(i+="&pygame=true");var s=JSON.stringify(this.$route.query);this.goView("bianchengTest",{webUrl:i,formRouterName:"worksManage",formRouterQuery:s})}},deleteCodeFreeCreation:function(t){var e=this,a={id:t};this.deleteCodeFreeCreationActions(a).then(function(t){var a=t.error_code;t.data;a||(e.page_num=1,e.getCodeFreeCreationList(),e.$message.success("操作成功"))})},deleteItem:function(t,e){var a=this;t.stopPropagation(),this.$confirm("作品删除后无法找回，请确认是否删除","提示",{confirmButtonText:"是",cancelButtonText:"否",type:"warning",beforeClose:function(t,o,i){"confirm"===t&&a.deleteCodeFreeCreation(e.id),i()}}).then(function(){})}}),watch:{},mounted:function(){this.getCodeFreeCreationGoToUrl(),this.getCodeFreeCreationList()},computed:{},components:{},created:function(){}},r=c,d=(a("0590"),a("2877")),u=Object(d["a"])(r,o,i,!1,null,"58dfeb90",null);e["default"]=u.exports}}]);
//# sourceMappingURL=worksManage.593d88e2.js.map