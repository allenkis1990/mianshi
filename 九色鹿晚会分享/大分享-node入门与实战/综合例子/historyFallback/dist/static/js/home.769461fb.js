(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"0126":function(e,t,s){},1282:function(e,t,s){},5118:function(e,t,s){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new a(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},s("6017"),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,s("c8ba"))},"54b2":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap login-box"},[s("div",{staticClass:"login-main"},[s("div",{staticClass:"login-form-box4"},[s("div",{staticClass:"tit"},[e._v("重置密码")]),s("form",{attrs:{name:"resetPswForm"}},[s("ul",{staticClass:"login-form-list"},[s("li",{staticClass:"phone-item"},[s("input",{directives:[{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"pattern",rawName:"v-pattern",value:/^\d{11}$/,expression:"/^\\d{11}$/"},{name:"model",rawName:"v-model",value:e.resetModel.phone,expression:"resetModel.phone"},{name:"input-focus",rawName:"v-input-focus"}],attrs:{type:"text",maxlength:"11",name:"phone",placeholder:"请输入手机号码"},domProps:{value:e.resetModel.phone},on:{input:[function(t){t.target.composing||e.$set(e.resetModel,"phone",t.target.value)},e.inputPhone]}})]),s("li",{staticClass:"psw-item"},["checkbox"===e.pswIptType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.resetModel.password,expression:"resetModel.password"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"input-focus",rawName:"v-input-focus"}],attrs:{name:"password",maxlength:"16",minlength:"6",placeholder:"6~16个字符，支持大小写字母和数字",type:"checkbox"},domProps:{checked:Array.isArray(e.resetModel.password)?e._i(e.resetModel.password,null)>-1:e.resetModel.password},on:{change:function(t){var s=e.resetModel.password,n=t.target,o=!!n.checked;if(Array.isArray(s)){var a=null,i=e._i(s,a);n.checked?i<0&&e.$set(e.resetModel,"password",s.concat([a])):i>-1&&e.$set(e.resetModel,"password",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.resetModel,"password",o)}}}):"radio"===e.pswIptType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.resetModel.password,expression:"resetModel.password"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"input-focus",rawName:"v-input-focus"}],attrs:{name:"password",maxlength:"16",minlength:"6",placeholder:"6~16个字符，支持大小写字母和数字",type:"radio"},domProps:{checked:e._q(e.resetModel.password,null)},on:{change:function(t){return e.$set(e.resetModel,"password",null)}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.resetModel.password,expression:"resetModel.password"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"input-focus",rawName:"v-input-focus"}],attrs:{name:"password",maxlength:"16",minlength:"6",placeholder:"6~16个字符，支持大小写字母和数字",type:e.pswIptType},domProps:{value:e.resetModel.password},on:{input:function(t){t.target.composing||e.$set(e.resetModel,"password",t.target.value)}}}),s("span",{staticClass:"eye",class:{"eye-open":"text"===e.pswIptType,"eye-close":"password"===e.pswIptType},on:{mouseout:function(t){return e.hoverEye("2")},mouseover:function(t){return e.hoverEye("1")}}})]),s("li",{staticClass:"code-item"},[s("input",{directives:[{name:"pattern",rawName:"v-pattern",value:/^.{4}$/,expression:"/^.{4}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"model",rawName:"v-model",value:e.resetModel.phoneCode,expression:"resetModel.phoneCode"},{name:"input-focus",rawName:"v-input-focus"}],attrs:{type:"text",maxlength:"4",name:"phoneCode",placeholder:"请输入短信验证码"},domProps:{value:e.resetModel.phoneCode},on:{input:[function(t){t.target.composing||e.$set(e.resetModel,"phoneCode",t.target.value)},e.inputCode]}}),s("a",{style:e.sendingCode||e.resetPswForm.phone.$invalid?{color:"#ddd",cursor:"not-allowed"}:{},attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.openImgVerifyDialog(e.resetPswForm.phone.$invalid)}}},[e._v(e._s(e.getSendCodeBtnStr))])]),s("li",[s("button",{staticClass:"login-btn",style:e.resetPswForm.$invalid||e.submitAble?{background:"#ddd",cursor:"not-allowed"}:{},on:{click:function(t){return e.resetPsw(t,e.resetPswForm.$invalid)}}},[e._v("保  存")])]),s("li",{staticClass:"return"},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.$router.push("sign_in")}}},[e._v("返回>")])])])])])]),s("img-verify",{attrs:{show:e.showVerifyDialog},on:{successCb:e.sendPhoneCode,close:e.closeVerifyDialog}})],1)},o=[],a=(s("6b54"),s("a481"),s("cebc")),i=s("4411"),r=s("2f62"),c=s("767d"),u=60,d={data:function(){return Object(a["a"])({},Object(i["c"])("resetPswForm",["phone","password","phoneCode"]),{resetModel:{phone:"",password:"",phoneCode:""},submitAble:!1,showVerifyDialog:!1,sendCodeCount:u,sendingCode:!1,sendCodeOnces:!0,pswIptType:"password"})},computed:{getSendCodeBtnStr:function(){var e="";return!this.sendingCode&&this.sendCodeOnces?e="发送验证码":this.sendingCode||this.sendCodeOnces?this.sendingCode&&(e="".concat(this.sendCodeCount,"秒后可重发")):e="重发验证码",e}},methods:Object(a["a"])({},Object(r["b"])("account",["resetPasswordActions","sendPhoneCodeActions"]),{hoverEye:function(e){this.pswIptType="1"===e?"text":"password"},closeVerifyDialog:function(){this.showVerifyDialog=!1},filterNotNumber:function(e){for(var t=e.target.value.replace(/^\s+/g,"").replace(/\s+$/g,""),s="",n=0;n<t.length;n++){var o=t.charAt(n);/^\d$/g.test(o)&&(s+=o)}return s},inputPhone:function(e){var t=this.filterNotNumber(e);this.resetModel.phone=t},inputCode:function(e){var t=this.filterNotNumber(e);this.resetModel.phoneCode=t},resetPsw:function(e,t){var s=this;if(e.preventDefault(),!this.submitAble&&!t){var n={phone:this.resetModel.phone,password:this.resetModel.password,verification_code:this.resetModel.phoneCode};this.submitAble=!0,this.resetPasswordActions(n).then(function(e){var t=e.error_code;e.data;t?s.submitAble=!1:(s.$message.success("密码重置成功，3秒后返回登录页面"),setTimeout(function(){s.submitAble=!1,s.$router.push({name:"sign_in"})},3e3))},function(){s.submitAble=!1})}},openImgVerifyDialog:function(e){this.sendingCode||e||(this.sendCodeOnces?this.sendPhoneCode():this.showVerifyDialog=!0)},sendPhoneCodeRequest:function(){var e=this,t={phone_num:this.resetModel.phone,use_type:2};this.sendPhoneCodeActions(t).then(function(t){e.setInterval();var s=t.error_code;s||e.$message.success("验证码发送成功")},function(t){e.clearInterval()})},sendPhoneCode:function(){this.sendingCode||(this.sendingCode=!0,this.sendPhoneCodeRequest())},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this,t=setInterval(function(){e.sendCodeOnces=!1,e.sendCodeCount--,e.sendCodeCount<=0&&e.clearInterval(t)},1e3)}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.sendCodeCount=u,this.sendingCode=!1,clearInterval(e)})}),components:{imgVerify:c["a"]},mounted:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","loginRoot")},created:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","loginRoot")},destroyed:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","")}},l=d,m=(s("6bd5"),s("2877")),p=Object(m["a"])(l,n,o,!1,null,"badd08f8",null);t["default"]=p.exports},6017:function(e,t,s){(function(e,t){(function(e,s){"use strict";if(!e.setImmediate){var n,o=1,a={},i=!1,r=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,"[object process]"==={}.toString.call(e.process)?p():f()?h():e.MessageChannel?v():r&&"onreadystatechange"in r.createElement("script")?g():w(),c.setImmediate=u,c.clearImmediate=d}function u(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),s=0;s<t.length;s++)t[s]=arguments[s+1];var i={callback:e,args:t};return a[o]=i,n(o),o++}function d(e){delete a[e]}function l(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(s,n);break}}function m(e){if(i)setTimeout(m,0,e);else{var t=a[e];if(t){i=!0;try{l(t)}finally{d(e),i=!1}}}}function p(){n=function(e){t.nextTick(function(){m(e)})}}function f(){if(e.postMessage&&!e.importScripts){var t=!0,s=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=s,t}}function h(){var t="setImmediate$"+Math.random()+"$",s=function(s){s.source===e&&"string"===typeof s.data&&0===s.data.indexOf(t)&&m(+s.data.slice(t.length))};e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(s){e.postMessage(t+s,"*")}}function v(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;m(t)},n=function(t){e.port2.postMessage(t)}}function g(){var e=r.documentElement;n=function(t){var s=r.createElement("script");s.onreadystatechange=function(){m(t),s.onreadystatechange=null,e.removeChild(s),s=null},e.appendChild(s)}}function w(){n=function(e){setTimeout(m,0,e)}}})("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,s("c8ba"),s("f28c"))},"6bd5":function(e,t,s){"use strict";var n=s("1282"),o=s.n(n);o.a},"712a":function(e,t,s){e.exports=s.p+"static/img/login-logo.7a8af0d5.png"},"767d":function(e,t,s){"use strict";var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.showDialog,expression:"showDialog"}],staticClass:"dialog"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.showMask,expression:"showMask"}],staticClass:"dialog-mask"}),s("div",{staticClass:"dialog-main verify-box"},[s("div",{staticClass:"dialog-header"},[s("span",{staticClass:"close",on:{click:e.close}},[e._v("x")])]),s("div",{staticClass:"dialog-content verify-main"},[s("form",{attrs:{name:"verifyForm"}},[s("ul",{staticClass:"verify-form-list"},[s("li",{staticClass:"code-item"},[s("span",[e._v("校验码")]),s("img",{attrs:{src:e.codeObj.captcha_image,alt:""}}),s("a",{attrs:{href:"javascript:void(0)"},on:{click:e.change}},[e._v("看不清，换一张")])]),s("li",{staticClass:"verify-item"},[s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"pattern",rawName:"v-pattern",value:/.{4}/,expression:"/.{4}/"},{name:"model",rawName:"v-model",value:e.modelCode,expression:"modelCode"}],attrs:{type:"text",maxlength:"4",name:"code",placeholder:"请输入图片中的校验码"},domProps:{value:e.modelCode},on:{input:[function(t){t.target.composing||(e.modelCode=t.target.value)},e.inputCode]}})]),s("li",[s("button",{staticClass:"login-btn",style:e.verifyForm.$invalid?{background:"#ddd",cursor:"not-allowed"}:{},on:{click:function(t){return e.sendVerifyCaptcha(t,e.verifyForm.$invalid)}}},[e._v("确  定")])])])])])])])},o=[],a=(s("a481"),s("cebc")),i=s("4411"),r=s("2f62"),c={props:{show:{type:Boolean},showMask:{type:Boolean,default:!0},dialogStyle:{type:Object}},mounted:function(){},data:function(){return Object(a["a"])({},Object(i["c"])("verifyForm",["code"]),{codeObj:{},submitAble:!1,modelCode:"",sendingCode:!1,showError:!1})},watch:{showDialog:{handler:function(e){e&&(this.initSome(),this.freshCaptcha())},immediate:!0}},computed:{showDialog:function(){return this.show}},methods:Object(a["a"])({},Object(r["b"])("account",["freshCaptchaActions","verifyCaptchaActions"]),{filterNotNumberOrEn:function(e){for(var t=e.target.value.replace(/^\s+/g,"").replace(/\s+$/g,""),s="",n=0;n<t.length;n++){var o=t.charAt(n);/^[\da-zA-Z]$/g.test(o)&&(s+=o)}return s},inputCode:function(e){var t=this.filterNotNumberOrEn(e);this.modelCode=t},initSome:function(){var e=this;this.modelCode=void 0,this.codeObj={},this.showError=!1,setTimeout(function(){Object(i["b"])("verifyForm",e)})},sendVerifyCaptcha:function(e,t){e.preventDefault(),this.sendingCode||t||!this.codeObj.captcha_token||(this.sendingCode=!0,this.sendVerifyCaptchaRequest())},sendVerifyCaptchaRequest:function(){var e=this,t={captcha_code:this.modelCode,captcha_token:this.codeObj.captcha_token};this.verifyCaptchaActions(t).then(function(t){e.sendingCode=!1;var s=t.error_code;s?(e.showError=!0,e.change()):(window.console.log("图形验证码校验成功"),e.showError=!1,e.$emit("close"),e.$emit("successCb"))},function(t){e.sendingCode=!1})},freshCaptcha:function(){var e=this;this.freshCaptchaActions().then(function(t){e.submitAble=!1;var s=t.error_code,n=t.data;s||(e.codeObj=n)},function(){e.submitAble=!1})},change:function(){this.submitAble||(this.modelCode="",this.freshCaptcha())},submit:function(){},close:function(){this.$emit("close")}})},u=c,d=s("2877"),l=Object(d["a"])(u,n,o,!1,null,"91890aea",null);t["a"]=l.exports},"798e":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-box"},[s("div",{staticClass:"login-main"},[s("UserLogin")],1)])},o=[],a=s("cebc"),i=s("2f62"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-form-box"},[s("div",{staticClass:"login-tab"},[s("div",{staticClass:"login-tab-item",class:{current:"2"===e.curtab},on:{click:function(t){return e.changeLoginTab("2")}}},[e._v("\n      密码登录\n    ")])]),s("form",{attrs:{name:"pswLoginForm",rules:e.pswLoginFormRules}},[s("ul",{directives:[{name:"show",rawName:"v-show",value:"2"===e.curtab,expression:"curtab === '2'"}],staticClass:"login-form-list"},[s("li",{staticClass:"phone-item"},[s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"pattern",rawName:"v-pattern",value:/^\d{11}$/,expression:"/^\\d{11}$/"},{name:"model",rawName:"v-model",value:e.formPswLogin.phone,expression:"formPswLogin.phone"}],attrs:{type:"text",placeholder:"请输入手机号码",name:"phone"},domProps:{value:e.formPswLogin.phone},on:{input:[function(t){t.target.composing||e.$set(e.formPswLogin,"phone",t.target.value)},function(t){return e.inputPhone(t,"formPswLogin")}]}})]),s("li",{staticClass:"psw-item"},["checkbox"===e.pswIptType?s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"pattern",rawName:"v-pattern",value:/^.{6,20}$/,expression:"/^.{6,20}$/"},{name:"model",rawName:"v-model",value:e.formPswLogin.password,expression:"formPswLogin.password"}],attrs:{name:"password",placeholder:"请输入6-20位密码",type:"checkbox"},domProps:{checked:Array.isArray(e.formPswLogin.password)?e._i(e.formPswLogin.password,null)>-1:e.formPswLogin.password},on:{change:function(t){var s=e.formPswLogin.password,n=t.target,o=!!n.checked;if(Array.isArray(s)){var a=null,i=e._i(s,a);n.checked?i<0&&e.$set(e.formPswLogin,"password",s.concat([a])):i>-1&&e.$set(e.formPswLogin,"password",s.slice(0,i).concat(s.slice(i+1)))}else e.$set(e.formPswLogin,"password",o)}}}):"radio"===e.pswIptType?s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"pattern",rawName:"v-pattern",value:/^.{6,20}$/,expression:"/^.{6,20}$/"},{name:"model",rawName:"v-model",value:e.formPswLogin.password,expression:"formPswLogin.password"}],attrs:{name:"password",placeholder:"请输入6-20位密码",type:"radio"},domProps:{checked:e._q(e.formPswLogin.password,null)},on:{change:function(t){return e.$set(e.formPswLogin,"password",null)}}}):s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"pattern",rawName:"v-pattern",value:/^.{6,20}$/,expression:"/^.{6,20}$/"},{name:"model",rawName:"v-model",value:e.formPswLogin.password,expression:"formPswLogin.password"}],attrs:{name:"password",placeholder:"请输入6-20位密码",type:e.pswIptType},domProps:{value:e.formPswLogin.password},on:{input:function(t){t.target.composing||e.$set(e.formPswLogin,"password",t.target.value)}}}),s("span",{staticClass:"eye",class:{"eye-open":"text"===e.pswIptType,"eye-close":"password"===e.pswIptType},on:{mouseout:function(t){return e.hoverEye("2")},mouseover:function(t){return e.hoverEye("1")}}})]),s("li",{staticClass:"status-item"},[s("div",{staticClass:"keep-login",on:{click:e.changeRemeberPsw}},[s("span",{staticClass:"chx",class:{checked:"true"===e.remeberPsw}}),e._v("\n          记住登录状态30天\n        ")])]),s("li",[s("button",{staticClass:"login-btn",style:e.pswLoginForm.$invalid?{background:"#E2E2E2",color:"#999999",cursor:"not-allowed"}:{},on:{click:function(t){return e.login(t,e.pswLoginForm.$invalid,"2")}}},[e._v("\n          登  录\n        ")])]),s("li",{staticClass:"code-txt-item"},[e._v("\n        登录即代表同意\n        "),s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.clickXieyi(3)}}},[e._v("《隐私政策》")])])])])])},c=[],u=(s("ac6a"),s("6b54"),s("a481"),s("cbbf")),d=s("4411"),l=s("5118"),m=s("767d"),p=s("8958"),f=s.n(p),h=60,v={data:function(){return Object(a["a"])({pswIptType:"password",curtab:"2",showVerifyDialog:!1},Object(d["c"])("pswLoginForm",["phone","password"]),{loading:!1,sendCodeCount:h,sendingCode:!1,sendCodeOnces:!0,submitAble:!1,formPswLogin:{phone:"",password:""},remeberPsw:"true",has_password:""})},computed:{isDialog:function(){var e=this,t=e.$parent,s=t.$el&&t.$el.className||"";return-1!==s.indexOf("el-dialog__wrapper")},getSendCodeBtnStr:function(){var e="";return!this.sendingCode&&this.sendCodeOnces?e="发送验证码":this.sendingCode||this.sendCodeOnces?this.sendingCode&&(e="".concat(this.sendCodeCount,"秒后可重发")):e="重发验证码",e}},methods:Object(a["a"])({},Object(i["b"])("account",["sendPhoneCodeActions","loginActions","findDictionaryListActions","getStudentIdCookie","userLoginByPasswordActions","triggerStudentActions","getTokenActions"]),Object(i["b"])("child",["studentLoginActions","getLearningUserStudentSimpleListActions"]),{hoverEye:function(e){this.pswIptType="1"===e?"text":"password"},changeRemeberPsw:function(){"true"===this.remeberPsw?this.remeberPsw="false":this.remeberPsw="true",u["a"].cookieUtils.setItem("remeberPsw",this.remeberPsw)},closeVerifyDialog:function(){this.showVerifyDialog=!1},filterNotNumber:function(e){for(var t=e.target.value.replace(/^\s+/g,"").replace(/\s+$/g,""),s="",n=0;n<t.length;n++){var o=t.charAt(n);/^\d$/g.test(o)&&(s+=o)}return s},inputPhone:function(e,t){var s=this.filterNotNumber(e);this[t].phone=s},inputCode:function(e){var t=this.filterNotNumber(e);this.formLogin.phoneCode=t},clickXieyi:function(e){this.$bus.$emit("openXieyi",e)},goAgreementView:function(){this.$router.push({name:"agreement"})},login:function(e,t,s){e.preventDefault(),t?window.console.log("表单没过"):this.submitAble||this.loginRequest(s)},loginRequest:function(e){var t=this,s={},n="",o="";"1"===e?(n="formLogin",o="loginActions",s={phone:this[n].phone,verification_code:this[n].phoneCode}):(n="formPswLogin",o="userLoginByPasswordActions",s={phone:this[n].phone,password:this[n].password,is_save_month:"true"===this.remeberPsw?"1":"0"}),this.submitAble=!0,this[o](s).then(function(s){t.submitAble=!1;var n=t,o=s.error_code;s.data;o||t.getLearningUserStudentSimpleListActions().then(function(s){var o=s.error_code,a=s.data;if(!o)if(a.length>0){var i={student_id:a[0].student_id};vm.$store.commit("account/setStudentList",a,{root:!0}),t.triggerStudentActions(i).then(function(s){var n=s.error_code;n||t.checkedAndGoCenter("sign_in_success",e)})}else n.checkedAndGoCenter("loginSuccess",e)},function(e){})},function(e){t.submitAble=!1})},checkedAndGoCenter:function(e,t){var s="0"===this.has_password,n="";if(s&&"1"===t){var o=f.a.parse(document.cookie);if(o.accountInfo){var a=JSON.parse(o.accountInfo),i=a.phone;if(i){var r="notTipSetPsw"+i,c=u["a"].cookieUtils.getItem(r,!0);n="true"===c?e:"setPsw"}else n=e}}else n=e;this.$router.push({name:n})},findDictionaryListRequest:function(){this.findDictionaryListActions().then(function(e){var t=e.error_code,s=e.data;if(!t){var n=s,o=vm.$i18n,a=o.locale,i=o.getLocaleMessage(a);i.dic=Object.assign(i.dic,n),o.setLocaleMessage(a,i),localStorage.setItem("dic",JSON.stringify(n))}})},sendPhoneCodeRequest:function(){var e=this,t={phone_num:this.formLogin.phone,use_type:1};this.sendPhoneCodeActions(t).then(function(t){e.setInterval();var s=t.error_code;s||e.$message.success("验证码发送成功")},function(t){e.clearInterval()})},openImgVerifyDialog:function(e){this.sendingCode||e||(this.sendCodeOnces?this.sendPhoneCode():this.showVerifyDialog=!0)},sendPhoneCode:function(){this.sendingCode||(this.sendingCode=!0,this.sendPhoneCodeRequest())},setInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this,t=setInterval(function(){e.sendCodeOnces=!1,e.sendCodeCount--,e.sendCodeCount<=0&&e.clearInterval(t)},1e3)}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){this.sendCodeCount=h,this.sendingCode=!1,clearInterval(e)}),checkLogin:function(e){var t=this,s=e.account,n=e.password;t.loading=!0,Object(l["setTimeout"])(function(){t.loading=!1},200),postWeb("/login/staffLogin",{userName:s,password:n}).then(function(e){var n=e.error_code,o=e.data;if(!n){var a=o;if(a.account=s,t.$store.dispatch("account/updateInfo",a),t.$store.dispatch("account/updateStatus",1),t.isDialog){var i=t.$route.matched;i.forEach(function(e){var t=e.instances;for(var s in t){var n=t[s],o=n.activated;o&&o.call(n)}})}else t.$router.push({name:"sign_in_success"});postWeb("dictionary/findDictionaryList").then(function(e){var t=e.error_code,s=e.data;if(!t){var n=s,o=vm.$i18n,a=o.locale,i=o.getLocaleMessage(a);i.dic=Object.assign(i.dic,n),o.setLocaleMessage(a,i),localStorage.setItem("dic",JSON.stringify(n))}})}})},getToken:function(){1!=this.$store.state.account.status&&this.getTokenActions({}).then(function(e){e.error_code,e.message,e.data})}}),components:{imgVerify:m["a"]},mounted:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","loginRoot");var t=u["a"].cookieUtils.getItem("remeberPsw");this.remeberPsw=t||"true",u["a"].cookieUtils.setItem("remeberPsw",this.remeberPsw),this.getToken()},created:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","loginRoot")},destroyed:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","")}},g=v,w=(s("aa29"),s("2877")),b=Object(w["a"])(g,r,c,!1,null,"2482ab4d",null),y=b.exports,C={data:function(){return{banners:[]}},mounted:function(){},components:{UserLogin:y},methods:Object(a["a"])({},Object(i["b"])("account",["getTokenActions"])),destroyed:function(){},created:function(){localStorage.getItem("token")}},P=C,_=Object(w["a"])(P,n,o,!1,null,"6dfd7a34",null);t["default"]=_.exports},aa29:function(e,t,s){"use strict";var n=s("b04c"),o=s.n(n);o.a},af7a:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wrap login-box"},[s("div",{staticClass:"login-main"},[s("div",{staticClass:"login-form-box3"},[s("div",{staticClass:"tit"},[e._v("设置密码")]),s("div",{staticClass:"sub-tit"},[e._v("强烈建议设置密码，多设备登录更便捷")]),s("form",{attrs:{name:"setPswForm"}},[s("ul",{staticClass:"login-form-list"},[s("li",{staticClass:"set-psw-item psw-item"},["checkbox"===e.pswIptType?s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{maxlength:"16",minlength:"6",name:"password",placeholder:"6~16个字符，支持大小写字母和数字",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var s=e.password,n=t.target,o=!!n.checked;if(Array.isArray(s)){var a=null,i=e._i(s,a);n.checked?i<0&&(e.password=s.concat([a])):i>-1&&(e.password=s.slice(0,i).concat(s.slice(i+1)))}else e.password=o}}}):"radio"===e.pswIptType?s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{maxlength:"16",minlength:"6",name:"password",placeholder:"6~16个字符，支持大小写字母和数字",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{maxlength:"16",minlength:"6",name:"password",placeholder:"6~16个字符，支持大小写字母和数字",type:e.pswIptType},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("span",{staticClass:"eye",class:{"eye-open":"text"===e.pswIptType,"eye-close":"password"===e.pswIptType},on:{mouseout:function(t){return e.hoverEye("2")},mouseover:function(t){return e.hoverEye("1")}}})]),s("li",{staticClass:"set-confirmpsw-item psw-item"},["checkbox"===e.pswIptType?s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{maxlength:"16",minlength:"6",name:"confirmPassword",placeholder:"请再次输入密码",type:"checkbox"},domProps:{checked:Array.isArray(e.confirmPassword)?e._i(e.confirmPassword,null)>-1:e.confirmPassword},on:{change:function(t){var s=e.confirmPassword,n=t.target,o=!!n.checked;if(Array.isArray(s)){var a=null,i=e._i(s,a);n.checked?i<0&&(e.confirmPassword=s.concat([a])):i>-1&&(e.confirmPassword=s.slice(0,i).concat(s.slice(i+1)))}else e.confirmPassword=o}}}):"radio"===e.pswIptType?s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{maxlength:"16",minlength:"6",name:"confirmPassword",placeholder:"请再次输入密码",type:"radio"},domProps:{checked:e._q(e.confirmPassword,null)},on:{change:function(t){e.confirmPassword=null}}}):s("input",{directives:[{name:"input-focus",rawName:"v-input-focus"},{name:"pattern",rawName:"v-pattern",value:/^[0-9a-zA-Z]{6,16}$/,expression:"/^[0-9a-zA-Z]{6,16}$/"},{name:"required",rawName:"v-required",value:!0,expression:"true"},{name:"model",rawName:"v-model",value:e.confirmPassword,expression:"confirmPassword"}],attrs:{maxlength:"16",minlength:"6",name:"confirmPassword",placeholder:"请再次输入密码",type:e.pswIptType},domProps:{value:e.confirmPassword},on:{input:function(t){t.target.composing||(e.confirmPassword=t.target.value)}}}),s("span",{staticClass:"eye",class:{"eye-open":"text"===e.pswIptType,"eye-close":"password"===e.pswIptType},on:{mouseout:function(t){return e.hoverEye("2")},mouseover:function(t){return e.hoverEye("1")}}})]),s("li",[s("button",{staticClass:"login-btn",style:e.setPswForm.$invalid||e.submitAble?{background:"#ddd",cursor:"not-allowed"}:{},on:{click:function(t){return e.setPsw(t,e.setPswForm.$invalid)}}},[e._v("保  存")])]),s("li",{staticClass:"status-item"},[s("div",{staticClass:"not-tip",on:{click:e.changeNotTipSetPsw}},[s("span",{staticClass:"chx",class:{checked:"true"===e.notTipSetPsw}}),e._v("\n                            不再提示\n                        ")]),s("a",{staticClass:"jump",attrs:{href:"javascript:void(0)"},on:{click:e.goCenter}},[e._v("跳过>")])])])])])])])},o=[],a=s("cebc"),i=s("8958"),r=s.n(i),c=s("cbbf"),u=s("2f62"),d=s("4411"),l=2592e6,m=(new Date).getTime()+l,p=r.a.parse(document.cookie),f={data:function(){return Object(a["a"])({},Object(d["c"])("setPswForm",["password","confirmPassword"]),{notTipSetPsw:"false",password:"",confirmPassword:"",submitAble:!1,pswIptType:"password",accountInfo:{}})},computed:{isLogin:function(){return 1===this.$store.getters["account/status"]}},methods:Object(a["a"])({},Object(u["b"])("account",["initPasswordActions"]),{hoverEye:function(e){this.pswIptType="1"===e?"text":"password"},setPsw:function(e,t){var s=this;if(e.preventDefault(),t)window.console.log("表单没过");else if(!this.submitAble)if(this.confirmPassword===this.password){this.submitAble=!0;var n={password:this.password};this.initPasswordActions(n).then(function(e){var t=e.error_code;e.data;t?s.submitAble=!1:(s.$message.success("密码设置成功，3秒后自动登录"),setTimeout(function(){s.submitAble=!1,s.goCenter()},3e3))},function(){s.submitAble=!1})}else this.$message.warning("确认密码必须和密码一致")},changeNotTipSetPsw:function(){"true"===this.notTipSetPsw?this.notTipSetPsw="false":this.notTipSetPsw="true";var e=this.accountInfo.phone;if(e){var t="notTipSetPsw"+e;c["a"].cookieUtils.setItem(t,this.notTipSetPsw,m)}},goCenter:function(){var e=c["a"].cookieUtils.getItem("remeberPsw"),t="true"===e,s=c["a"].cookieUtils.getItem("student_list",t);s&&s.length?this.$router.push({name:"sign_in_success"}):this.$router.push({name:"loginSuccess"})}}),components:{},mounted:function(){var e=document.getElementsByTagName("html")[0];if(e.setAttribute("class","loginRoot"),p.accountInfo){this.accountInfo=JSON.parse(p.accountInfo);var t=this.accountInfo.phone;if(t){var s="notTipSetPsw"+t;c["a"].cookieUtils.setItem(s,this.notTipSetPsw,m)}}else this.goView("sign_in")},created:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","loginRoot")},destroyed:function(){var e=document.getElementsByTagName("html")[0];e.setAttribute("class","")}},h=f,v=(s("ea73"),s("2877")),g=Object(v["a"])(h,n,o,!1,null,"684586b2",null);t["default"]=g.exports},b04c:function(e,t,s){},ba17:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("p",[s("router-link",{attrs:{to:{name:"sign_in"}}},[e._v("登录")])],1),s("p",[s("router-link",{attrs:{to:{name:"sign_up"}}},[e._v("注册")])],1)])},o=[],a={data:function(){return{}},components:{},created:function(){}},i=a,r=s("2877"),c=Object(r["a"])(i,n,o,!1,null,null,null);t["default"]=c.exports},c8e8:function(e,t,s){"use strict";var n=s("de69"),o=s.n(n);o.a},c8fb:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{height:"100%"}},[s("FrameHome")],1)},o=[],a=s("cebc"),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{height:"100%",width:"100%"}},[s("div",{staticClass:"login-bg"},[e._m(0),s("router-view")],1)])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",[n("div",{staticClass:"login-header"},[n("div",{staticClass:"header-main"},[n("div",{staticClass:"logo-box"},[n("img",{staticClass:"logo",attrs:{src:s("712a"),alt:""}})])])])])}],c=s("cbbf"),u={data:function(){return{}},props:{},components:{},mounted:function(){},methods:{openPdf:function(e){c["a"].pdfHelper.goPdf(e)},clickXieyi:function(e){this.$bus.$emit("openXieyi",e)}}},d=u,l=(s("c8e8"),s("2877")),m=Object(l["a"])(d,i,r,!1,null,"5b44aeeb",null),p=m.exports,f=(s("8958"),s("2f62")),h={data:function(){return{title:"九色鹿学生端"}},components:{FrameHome:p},methods:Object(a["a"])({},Object(f["b"])("account",["triggerStudentActions"])),mounted:function(){var e=this;if(this.isLogin){var t=c["a"].cookieUtils.getItem("remeberPsw"),s="true"===t,n=c["a"].cookieUtils.getItem("student_list",s);if(n&&n.length){var o={student_id:n[0].student_id};this.triggerStudentActions(o).then(function(t){var s=t.error_code;s||e.$router.push({name:"sign_in_success"})})}}},computed:Object(a["a"])({},Object(f["c"])("account",{accoutInfo:"info"}),{isLogin:function(){return 1===this.$store.getters["account/status"]}})},v=h,g=Object(l["a"])(v,n,o,!1,null,"2d859c96",null);t["default"]=g.exports},de69:function(e,t,s){},ea73:function(e,t,s){"use strict";var n=s("0126"),o=s.n(n);o.a}}]);
//# sourceMappingURL=home.769461fb.js.map