<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<script>
  function isObj(obj){
    var type = Object.prototype.toString.call(obj)
    if(type==='[object Object]'){
      return true
    }else{
      return false
    }
  }
  function deepCopy(target){
    var result
    var objType = isObj(target)?'object':(Array.isArray(target)?'array':'')
    if(typeof target!=='object'&&target!==null){
      result = target
    }else if(objType==='object'){
      result = {}
      for(let key in target){
        if(typeof target[key]==='object'){
          result[key] = deepCopy(target[key])
        }else{
          result[key] = target[key]
        }
      }
    }else if(objType==='array'){
      result = []
      for(let i = 0;i<target.length;i++){
        if(typeof target[i]==='object'){
          result[i] = deepCopy(target[i])
        }else{
          result[i] = target[i]
        }
      }
    }else{
      result = target
    }
    return result
  }
  var obj = {
    name:'allen',
    age:18,
    o:{
      name:'o',
      oo:{
        name:'oo'
      }
    }
  }
  let objNew = deepCopy(obj)

  objNew.o.name = 'ooooooo'
  console.log(obj);
  console.log(objNew);
</script>
</body>
</html>